<md-content flex>
  <otus-painel ng-if=fieldCenterController.showAddCenterTab flex="80" align=fieldCenterController.centerAddAling header-label=fieldCenterController.centerAddheaderLabel>
    <center-card show-tab="fieldCenterController.showAddCenterTab"></center-card>
  </otus-painel>
  <div ng-if=!fieldCenterController.showAddCenterTab>
  <div otus-waiting-project layout-padding layout-margin layout-align="center top" layout="row" flex>
    <h1>Centros Cadastrados</h1>
  </div>
  <div layout-align="center center" layout="row" layout="column">
    <md-list flex="60">
      <md-list-item ng-repeat="fieldCenter in fieldCenterController.getAllCenters()">
        <md-card flex layout="row" layout="column">
          <div flex="95">
            <md-card-title flex layout-align="center center">
              <form name="updateForm" novalidate>
                <md-card-title-text>
                <div layout="row">
                  <div layout-padding layout-margin md-colors="{background: 'default-accent'}" class="color-center" style="background: {{fieldCenter.backgroundColor}};"></div>
                  <md-input-container ng-if="!fieldCenter.editMode" md-no-float>
                    <label>Cor de fundo</label>
                    <input disabled ng-model="fieldCenter.backgroundColor">
                  </md-input-container>
                  <md-input-container md-no-float ng-if="fieldCenter.editMode">
                    <label>Cor de fundo</label>
                    <input  name="backgroundColor" required colorpicker="rgba"  ng-model="fieldCenter.backgroundColor">
                    <div ng-messages="updateForm.backgroundColor.$error">
                      <div ng-message="required">Obrigatório</div>
                    </div>
                  </md-input-container>
                  <div layout-padding layout-margin md-colors="{background: 'default-accent'}" class="color-center" style="background: {{fieldCenter.borderColor}};"></div>
                  <md-input-container md-no-float ng-if="!fieldCenter.editMode">
                    <label>Cor da borda</label>
                    <input disabled name="borderColor" ng-model="fieldCenter.borderColor">
                  </md-input-container>
                  <md-input-container md-no-float ng-if="fieldCenter.editMode" >
                    <label>Cor da borda</label>
                    <input name="borderColor" class="form-control" required colorpicker="rgba"  ng-model="fieldCenter.borderColor">
                    <div ng-messages="updateForm.borderColor.$error">
                      <div ng-message="required">Obrigatório</div>
                    </div>
                  </md-input-container>
                </div>
                <div layout="row" layout-padding>
                  <md-input-container flex md-no-float>
                    <label>Sigla</label>
                    <input disabled ng-model="fieldCenter.acronym">
                  </md-input-container>
                  <md-input-container flex md-no-float>
                    <label>Código</label>
                    <input disabled ng-model="fieldCenter.code" type="text">
                  </md-input-container>
                  <md-input-container flex md-no-float>
                    <label>Nome</label>
                    <input ng-disabled="!fieldCenter.editMode" required name="name" ng-model="fieldCenter.name" type="text">
                    <div ng-messages="updateForm.name.$error">
                      <div ng-message="required">Obrigatório</div>
                    </div>
                  </md-input-container>
                </div>
                <div layout="row" layout-padding>
                  <md-input-container>
                    <label>Estado</label>
                    <input ng-disabled="!fieldCenter.editMode" ng-model="fieldCenter.state">
                  </md-input-container>
                  <md-input-container flex="70" md-no-float>
                    <label>Endereço</label>
                    <md-icon md-font-set="material-icons">place</md-icon>
                    <input ng-disabled="!fieldCenter.editMode" ng-model="fieldCenter.address" type="text">
                  </md-input-container>
                  <md-input-container>
                    <label>Complemento</label>
                    <input ng-disabled="!fieldCenter.editMode" ng-model="fieldCenter.complement">
                  </md-input-container>
                </div>
                <div layout="row" layout-padding>
                  <md-input-container>
                    <label>Pais</label>
                    <input ng-disabled="!fieldCenter.editMode" ng-model="fieldCenter.country">
                  </md-input-container>
                  <md-input-container>
                    <label>Cep</label>
                    <md-icon md-font-set="material-icons">markunread_mailbox</md-icon>
                    <input  aria-label="Cep" ui-mask="99999-999" ng-disabled="!fieldCenter.editMode" ng-model="fieldCenter.zip">
                  </md-input-container>
                  <md-input-container md-no-float>
                    <label>Fone</label>
                    <md-icon md-font-set="material-icons">phone</md-icon>
                    <input aria-label="Telefone" ui-mask="99 9999?9 9999" ng-disabled="!fieldCenter.editMode"
                           ng-model="fieldCenter.phone" type="phone">
                  </md-input-container>
                </div>
              </md-card-title-text>
              </form>
            </md-card-title>
          </div>
          <div>
            <div flex layout="column">
              <md-button class="md-icon-button md-primary" ng-click="fieldCenterController.edit(fieldCenter)">
                <md-tooltip md-direction="left">
                  Editar
                </md-tooltip>
                <md-icon md-font-set="material-icons">mode_edit</md-icon>
              </md-button>
              <md-button ng-if="fieldCenter.editMode" ng-disabled="updateForm.$invalid" class="md-icon-button md-primary"
                         ng-click="fieldCenterController.update(fieldCenter)">
                <md-tooltip md-direction="left">
                  Atualizar
                </md-tooltip>
                <md-icon md-font-set="material-icons" style="color:green">check</md-icon>
              </md-button>
            </div>
          </div>
        </md-card>
      </md-list-item>
    </md-list>
  </div>
  <div layout-padding layout-margin ng-show="!fieldCenterController.getAllCenters().length">
    <h2>
      <span ng-style="{'font-size' : '48px'}" class="material-icons">place</span>
      <span class="md-display-2">Centros de Pesquisa</span>
    </h2>
    <span class="md-body-1">O projeto selecionado não possui nenhum centro cadastrado. Utilize o botão <md-icon
      md-font-set="material-icons">add</md-icon> para cadastrar novos centros.</span>
  </div>

</div>
  <md-button class="md-fab md-fab-bottom-right" aria-label="Gerenciar Centro" ng-click="fieldCenterController.showCreationTab(!fieldCenterController.showAddCenterTab)">
    <md-icon md-svg-icon="plus" ng-if="!fieldCenterController.showAddCenterTab"></md-icon>
    <md-icon ng-if="fieldCenterController.showAddCenterTab">keyboard_return</md-icon>
  </md-button>
</md-content>
